@model IReadOnlyList<SiteSummaryViewModel>
@{
    ViewData["Title"] = "Sites";
}

<div class="d-flex justify-content-between align-items-center">
    <h2 class="mb-4 border-bottom pb-2">Site List</h2>
    <button class="btn btn-primary mb-3" type="button">Create Site</button>
</div>

<div class="card shadow-sm mb-4">
    <div class="card-header fw-semibold bg-light">Monitoring Sites</div>
    <div class="card-body p-0">
        <table class="table table-striped table-hover align-middle mb-0">
            <thead>
                <tr>
                    <th>Site Name</th>
                    <th># Events</th>
                    <th># Flagged</th>
                    <th>Overall Health</th>
                    <th class="text-end">Actions</th>
                </tr>
            </thead>
            <tbody>
            @foreach (var site in Model)
            {
                <tr>
                    <td>@site.Name</td>
                    <td>@site.EventCount</td>
                    <td>@site.FlaggedCount</td>
                    <td><partial name="_StatusBadge" model="site.OverallHealth" /></td>
                    <td class="text-end">
                        <a class="btn btn-outline-secondary btn-sm" asp-controller="Sites" asp-action="Events" asp-route-id="@site.Id">View Events</a>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>
